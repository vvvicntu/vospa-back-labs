{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
    <h1>Избранные статьи</h1>
    
    {% if not articles %}
        <p>У вас пока нет избранных статей</p>
        <p><a href="/lab5/create">Создать статью</a> или <a href="/lab5/list">перейти ко всем статьям</a></p>
    {% else %}
        <div class="articles-list">
            {% for article in articles %}
                <div class="article-card">
                    <h2>{{ article['title'] }}</h2>
                    
                    <div class="article-meta">
                        <span class="favorite-badge">Избранная</span>
                        {% if article['is_public'] %}
                            <span class="public-badge">Публичная</span>
                        {% endif %}
                    </div>
                    
                    <div class="article-content">
                        {{ article['article_text'] | replace('\n', '<br>') | safe }}
                    </div>
                    
                    <div class="article-actions">
                        <a href="/lab5/edit/{{ article['id'] }}">Редактировать</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <style>
        .articles-list {
            margin: 20px 0;
        }
        
        .article-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            background-color: #fff9e6;
        }
        
        .article-card h2 {
            margin-top: 0;
            color: #333;
        }
        
        .article-meta {
            margin-bottom: 10px;
        }
        
        .favorite-badge, .public-badge {
            background-color: #ffeb3b;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            color: #333;
            margin-right: 5px;
        }
        
        .public-badge {
            background-color: #4CAF50;
            color: white;
        }
        
        .article-content {
            line-height: 1.6;
            margin: 15px 0;
        }
        
        .article-actions {
            margin-top: 10px;
        }
        
        .article-actions a {
            color: #2196F3;
            text-decoration: none;
        }
    </style>
{% endblock %}