{% extends 'base.html' %}

{% block lab %}Лабораторная работа 3{% endblock %}

{% block main %}
<h2>Каталог автомобилей</h2>

<form action="/lab3/cars" method="get">
    <label>Мин. цена:</label>
    <input type="number" name="min_price" value="{{ min_price or '' }}" placeholder="0">

    <label>Макс. цена:</label>
    <input type="number" name="max_price" value="{{ max_price or '' }}" placeholder="10000000">

    <button type="submit">Искать</button>
    <a href="/lab3/reset_cars">Сброс</a>
</form>

<p>Найдено: {{ total }} автомобилей</p>

{% if cars %}
<table border="1" cellpadding="5">
    <tr>
        <th>Название</th>
        <th>Бренд</th>
        <th>Цвет</th>
        <th>Цена (₽)</th>
    </tr>
    {% for car in cars %}
    <tr>
        <td>{{ car.name }}</td>
        <td>{{ car.brand }}</td>
        <td>{{ car.color }}</td>
        <td>{{ "{:,}".format(car.price) }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p><b>Не найдено ни одного автомобиля.</b></p>
{% endif %}
{% endblock %}
